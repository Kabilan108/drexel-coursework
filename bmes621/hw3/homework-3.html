<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tony Kabilan Okeke">
<meta name="dcterms.date" content="2023-11-25">

<title>BMES 621: Homework 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="homework-3_files/libs/clipboard/clipboard.min.js"></script>
<script src="homework-3_files/libs/quarto-html/quarto.js"></script>
<script src="homework-3_files/libs/quarto-html/popper.min.js"></script>
<script src="homework-3_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="homework-3_files/libs/quarto-html/anchor.min.js"></script>
<link href="homework-3_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="homework-3_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="homework-3_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="homework-3_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="homework-3_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">BMES 621: Homework 3</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Tony Kabilan Okeke </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 25, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>For this homework you will use two different visualization tools. One is under Image/Stack, and the second is a more advanced Volume Viewer plugin. For these questions, different correct solutions/approaches are possible.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Question 1
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Use the 3D projection tool that came with ImageJ</strong></p>
<p>Upload the CLSM “3DMini” data sequence I added under /Images in BBLearn (its zipped – unzip and you should see 30 images). Use import, image sequence, to upload the entire sequence.</p>
<p>Under Image/Stacks:</p>
<ol type="a">
<li>Use z-projection for a first maximum intensity projection – this is just a quick check its working.</li>
</ol>
<blockquote class="blockquote">
<p>Here is the maximum intensity projection of the image stack.</p>
</blockquote>
<div class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="homework-3_files/figure-html/cell-3-output-1.png" width="315" height="335" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ol start="2" type="a">
<li>Generate 3D projections (use interpolate “on”, slice spacing 3). Pick a projection angle and use projection methods nearest point, brightest point, and mean value to compare. Document and describe with 2-3 sentences what the difference looks like, and what works best and suggest why.</li>
</ol>
<blockquote class="blockquote">
<p>I used the parameter settings shown below to generate the 3D projections.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="results/MINI3D_3D_Projection_Settings.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Here are the 3D projections using the different projection methods. The projections shown are from the 0° and 180° angles.</p>
<p>The Nearest Point projection at 180° appears to highlight structures visible deeper in the z-stack, while the 0° projection highlights structures closer to the surface of the specimen. The Brightest Point method emphasizes the most intense pixels, providing a clearer view of the brightest structures, which appers to be useful fo highlightling the more external structures of the specimen. The Mean Value projections offer the most balanced view of the specimen with less contrast but a more consistent representation of the specimen’s internal structures, making it beneficial for a comprehensive understanding of the specimen’s morphology.</p>
</blockquote>
<div class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="homework-3_files/figure-html/cell-4-output-1.png" width="689" height="466" class="figure-img"></p>
<figcaption class="figure-caption">3D projections of the specimen using different projection methods (0° and 180° views shown).</figcaption>
</figure>
</div>
</div>
</div>
<ol start="3" type="a">
<li>Extra point: what do you think does this sequence shows biologically?</li>
</ol>
<blockquote class="blockquote">
<p>I would guess that the specimen in the images is likely a part of an insect, maybe a lim or a portion of the thorax, given the segmented appearance.</p>
</blockquote>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Question 2
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Download the volume viewer Plugin which can be found [here(]https://imagej.nih.gov/ij/plugins/volume-viewer.html)</strong></p>
<p>Place the plugin into your ImageJ plugin folder and restart ImageJ. Please review the online documentation if needed.</p>
<p>Use the T1-Head 2.4 MB data set featuring 129 slices that came with your ImageJ installation ( File/Open samples).</p>
<p>Activate Volume Viewer (Plugin/3D/Volume Viewer).</p>
<ol type="a">
<li>Provide two rendered images in a sagittal and coronal view (you need to find out what these views are). Explain which axis you used for tilting. Set slice z-spacing to 1.0. By modifying the 2D GRAD rendering options, what generates transparent yet contrast visualizations? Document and describe.</li>
</ol>
<blockquote class="blockquote">
<p>The screenshots below shows the rendered image of the sagittal section (1st) and corronal section (2nd) of the head in the MRI. The exact LUT and 2D Grad settings used are visible in the screenshots. To improve the transparency while maintaining contrast, I modified the LUT to use distinct colors for different intensities.</p>
</blockquote>
<blockquote class="blockquote">
<p><img src="results/sagittal-view.png" class="img-fluid" data-fig-align="center"> Sagittal View of Head</p>
</blockquote>
<blockquote class="blockquote">
<p><img src="results/coronal-view.png" class="img-fluid" data-fig-align="center"> Coronal View of Head</p>
</blockquote>
<ol start="2" type="a">
<li>Provide an approx. 45 degree view from above the head with the top part of the brain cut. Use a LUT table to make the image look more differentiated if it is useful. Document your image.</li>
</ol>
<blockquote class="blockquote">
<p>The screenshot below shows a 45° view from above the head (back) with a section cut across the top of the skull. The brain is visible in cyan and green, while the rest of the head is visible in magenta.</p>
</blockquote>
<blockquote class="blockquote">
<p><img src="results/45-top-off.png" class="img-fluid" data-fig-align="center"> 45° View from Above the Head with the Top Part of the Brain Cut</p>
</blockquote>
<p>c Using the “light” option, provide reflections on the bone surface to increase plasticity of the rendition. Document your setting (screenshot ok) and image.</p>
<blockquote class="blockquote">
<p>Here is a view of the bone surfaces (face and skull) with reflections. The settings used for lighting are shown in the screenshot below.</p>
</blockquote>
<blockquote class="blockquote">
<p><img src="results/bone.png" class="img-fluid" data-fig-align="center"> Bone Surfaces with Reflections</p>
</blockquote>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>